{
  "version": 3,
  "sources": ["../../react-timeago/lib/formatters/buildFormatter.js"],
  "sourcesContent": ["\"use strict\";\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = buildFormatter;\nvar React = _interopRequireWildcard(require(\"react\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n// If the numbers array is present, format numbers with it,\n// otherwise just cast the number to a string and return it\nvar normalizeNumber = function normalizeNumber(numbers, value) {\n  return numbers && numbers.length === 10 ? String(value).split('').map(function (digit) {\n    return digit.match(/^[0-9]$/) ? numbers[parseInt(digit)] : digit;\n  }).join('') : String(value);\n};\n\n// Take a string or a function that takes number of days and returns a string\n// and provide a uniform API to create string parts\nvar normalizeFn = function normalizeFn(value, distanceMillis, numbers) {\n  return function (stringOrFn) {\n    return typeof stringOrFn === 'function' ? stringOrFn(value, distanceMillis).replace(/%d/g, normalizeNumber(numbers, value)) : stringOrFn.replace(/%d/g, normalizeNumber(numbers, value));\n  };\n};\nfunction buildFormatter(strings) {\n  return function formatter(_value, _unit, suffix, epochMilliseconds, _nextFormmater, now) {\n    var current = now();\n    var value = _value;\n    var unit = _unit;\n    // convert weeks to days if strings don't handle weeks\n    if (unit === 'week' && !strings.week && !strings.weeks) {\n      var days = Math.round(Math.abs(epochMilliseconds - current) / (1000 * 60 * 60 * 24));\n      value = days;\n      unit = 'day';\n    }\n\n    // create a normalize function for given value\n    var normalize = normalizeFn(value, current - epochMilliseconds, strings.numbers != null ? strings.numbers : undefined);\n\n    // The eventual return value stored in an array so that the wordSeparator can be used\n    var dateString = [];\n\n    // handle prefixes\n    if (suffix === 'ago' && strings.prefixAgo) {\n      dateString.push(normalize(strings.prefixAgo));\n    }\n    if (suffix === 'from now' && strings.prefixFromNow) {\n      dateString.push(normalize(strings.prefixFromNow));\n    }\n\n    // Handle Main number and unit\n    var isPlural = value > 1;\n    if (isPlural) {\n      var stringFn = strings[unit + 's'] || strings[unit] || '%d ' + unit;\n      dateString.push(normalize(stringFn));\n    } else {\n      var _stringFn = strings[unit] || strings[unit + 's'] || '%d ' + unit;\n      dateString.push(normalize(_stringFn));\n    }\n\n    // Handle Suffixes\n    if (suffix === 'ago' && strings.suffixAgo) {\n      dateString.push(normalize(strings.suffixAgo));\n    }\n    if (suffix === 'from now' && strings.suffixFromNow) {\n      dateString.push(normalize(strings.suffixFromNow));\n    }\n\n    // join the array into a string and return it\n    var wordSeparator = typeof strings.wordSeparator === 'string' ? strings.wordSeparator : ' ';\n    return dateString.join(wordSeparator);\n  };\n}"],
  "mappings": "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",
  "names": ["o", "_getRequireWildcardCache", "nodeInterop", "normalizeNumber", "normalizeFn"]
}
